@model IEnumerable<UserViewModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Get Users</h1>


<br />

	<form class="my-3" asp-action="Index">
		<div class="row">
			<div class="col-sm-8">
				<input placeholder="Search By Email.." name="SearchByEmail" class="form-control" />
			</div>
			<div class="col-sm-4">
				<input type="submit" value="Search" class="btn btn-success btn-block" />

			</div>

		</div>
	</form>

@if (Model.Count() > 0)
{

	<table class="table table-striped table-hover ">
		<thead>
			<tr>
				<th>@Html.DisplayNameFor(D=>D.Id)</th>
				<th>@Html.DisplayNameFor(D=>D.FName)</th>
				<th>@Html.DisplayNameFor(D=>D.LName)</th>
				<th>@Html.DisplayNameFor(D=>D.Email)</th>
				<th>@Html.DisplayNameFor(D=>D.PhoneNumber)</th>
				<th>@Html.DisplayNameFor(D=>D.Roles)</th>

			

				<th>Details</th>
				<th>UpDate</th>
				<th>Delete</th>

			</tr>
		</thead>
		<tbody>
			@foreach (var user in Model)
			{
				<tr>
					<td>@user.Id</td>
					<td>@user.FName</td>
					<td>@user.LName</td>
					<td>@Html.DisplayFor(E=>user.Email)</td>
					<td>@user.PhoneNumber</td>
					<td>@string.Join("," , user.Roles)</td>
					
				

					<partial name="_BtnPartialView" model="@user.Id" />

				</tr>
			}
		</tbody>

	</table>

}
else
{
	<div class="alert alert-danger mt-5">
		<h3>There is no Users </h3>
	</div>
}


